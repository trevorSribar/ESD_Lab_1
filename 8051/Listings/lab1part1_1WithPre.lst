A51 MACRO ASSEMBLER  LAB1PART1_1WITHPRE                                                   01/16/2026 19:48:39 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\lab1part1_1WithPre.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE lab1part1_1WithPre.a51 SET(SMALL) DEBUG PRINT(.\Listings\lab1part1_1Wit
                      hPre.lst) OBJECT(.\Objects\lab1part1_1WithPre.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ; Authors :Trevor Sribar
                       2     ; Course Name :- ECEN 5613 
                       3     ; Date :- 1/16/26
0000                   4                     ORG 0000H          ; Reset vector
0000                   5     Preconditions:
0000 7433              6                     MOV A, #0x33                    ;Set Starting X
0002 75F007            7                     MOV B, #0x07                    ;Set Starting Y
                       8      
0005                   9     START:
0005 F520             10                     MOV 0x20, A                     ;Copies the Accumulator(X) to 0x20
0007 23               11                     RL A                    ;Rotates Accumulator Left (multiplies by 2)
0008 23               12                     RL A                            ;Rotates the Accumulator Left (multiplies b
                             y 2)
0009 F521             13                     MOV 0x21, A                     ;Copies the Accumulator(4*X) to 0x21
000B 5403             14                     ANL A, #0x03                    ;Ands the Accumulator (shifted X with 00..0
                             011), should be 0 if non-error
000D 6006             15                     JZ NO_X_ERROR           ;If the accumulator is zero, we skip error handling
                      16     ;Error cuz X was too big
000F 753002           17                     MOV 0x30, #0x02         ;Set the error location to 0x02
0012 020036           18                     LJMP INFINITE_LOOP      ;Jumps to infinte loop
                      19                     
0015                  20     NO_X_ERROR:
0015 E5F0             21                     MOV A, B                        ;Moves the B register to the A register
0017 7006             22                     JNZ NO_Y_ERROR          ;If Y is not 0, we skip error handling
                      23     ;Error cuz Y is 0
0019 753001           24                     MOV 0x30, #0x01         ;Set the error location to 0x02
001C 020036           25                     LJMP INFINITE_LOOP      ;Jumps to infinte loop
                      26                     
001F                  27     NO_Y_ERROR:
001F F522             28                     MOV 0x22, A                     ;Copies the Accumulator(Y) to 0x22
0021 752300           29                     MOV 0x23, #0x00         ;Sets the quotient location (0x23) to 0, initializi
                             ng for loop
0024 E521             30                     MOV A, 0x21                     ;Sets the accumulator to 4*X, initializing 
                             for loop
                      31                     
0026                  32     LOOP: ;In this loop, we set a "W" which is 4X-(*0x23)*Y
0026 95F0             33                     SUBB A, B                       ;A now holds W-Y
0028 4005             34                     JC SAVING_REMAINDER     ;If we have had overflow from subtraction (carry ha
                             s been set), we are done with division
002A 0523             35                     INC 0x23                        ;If we didn't overflow, increment the Quoti
                             ent
002C 020026           36             LJMP LOOP                       ;Go to next round
                      37      
002F                  38     SAVING_REMAINDER:
002F 25F0             39                     ADD A, B                        ;We had A go to a negitive number, so we ne
                             ed to add Y back in order to get it to the actual remainder
0031 F524             40                     MOV 0x24, A                     ;Sets 0x24 to the remainder
0033 850030           41                     MOV 0x30, 0x00          ;Says we did not get an error during our operation
                      42     
0036                  43     INFINITE_LOOP:
0036 80FE             44             SJMP INFINITE_LOOP          ; Infinite loop after completion
                      45      
                      46             END
A51 MACRO ASSEMBLER  LAB1PART1_1WITHPRE                                                   01/16/2026 19:48:39 PAGE     2

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

B. . . . . . . . .  D ADDR   00F0H   A   
INFINITE_LOOP. . .  C ADDR   0036H   A   
LOOP . . . . . . .  C ADDR   0026H   A   
NO_X_ERROR . . . .  C ADDR   0015H   A   
NO_Y_ERROR . . . .  C ADDR   001FH   A   
PRECONDITIONS. . .  C ADDR   0000H   A   
SAVING_REMAINDER .  C ADDR   002FH   A   
START. . . . . . .  C ADDR   0005H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
